(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{243:function(e,t,r){var content=r(254);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(61).default)("2e29e315",content,!0,{sourceMap:!1})},253:function(e,t,r){"use strict";r(243)},254:function(e,t,r){var o=r(60)(!1);o.push([e.i,".grid-container{display:grid;grid-template-columns:1fr 5fr;grid-row-gap:10px}.grid-item{box-sizing:border-box;text-align:center;font-size:1.1em;padding:1.5em;color:#fff}",""]),e.exports=o},269:function(e,t,r){"use strict";r.r(t);var o=r(7),n=(r(49),{middleware:function(e){e.store;var t=e.redirect,r=localStorage.getItem("UsertAuthID");if(console.log("UsertAuthID=",r),!r)return t("/auth")},data:function(){return{formData:{Clients:[],Contractors:[],selectedClient:"",selectedContractor:""}}},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,n,data,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,o=e.params,n={params:{module:"dictionary",form:"Material",id:o.id}},t.next=4,r.$axios.$get("api",n);case 4:return data=t.sent,l={id:data._id._Value,Name:data._Name._Value,Description:data._Description._Value,selectedClient:data._Client_id._Value,selectedContractor:data._Contractor_id._Value},n={params:{module:"dictionary",form:"Client",id:0}},t.next=9,r.$axios.$get("api",n);case 9:return data=t.sent,l.Clients=data,n={params:{module:"dictionary",form:"Contractor",id:0}},t.next=14,r.$axios.$get("api",n);case 14:return data=t.sent,l.Contractors=data,t.abrupt("return",{formData:l});case 17:case"end":return t.stop()}}),t)})))()},methods:{saveFormData:function(){var e={module:"dictionary",form:"Material",data:{id:this.$data.formData.id,Name:this.$data.formData.Name,Description:this.$data.formData.Description,Client_id:this.$data.formData.selectedClient,Contractor_id:this.$data.formData.selectedContractor}};console.log("formData=",e),this.$axios.$post("api",e)}}}),l=(r(253),r(38)),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",[e._v("Номенклатура")]),e._v(" "),e._m(0),e._v(" "),r("nuxt-link",{attrs:{to:"/dictionary/Material"}},[r("button",[e._v("Выход")])]),e._v(" "),r("button",{on:{click:e.saveFormData}},[e._v("Сохранить")]),e._v(" "),e._m(1),e._v(" "),r("div",{staticClass:"grid-container"},[r("label",[e._v("Наименование")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.Name,expression:"formData.Name"}],attrs:{type:"text",placeholder:"Введите наименование"},domProps:{value:e.formData.Name},on:{input:function(t){t.target.composing||e.$set(e.formData,"Name",t.target.value)}}}),e._v(" "),r("label",[e._v("Описание")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.formData.Description,expression:"formData.Description"}],domProps:{value:e.formData.Description},on:{input:function(t){t.target.composing||e.$set(e.formData,"Description",t.target.value)}}}),e._v(" "),r("label",[e._v("Клиент")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.selectedClient,expression:"formData.selectedClient"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.formData,"selectedClient",t.target.multiple?r:r[0])}}},e._l(e.formData.Clients,(function(t){return r("option",{domProps:{value:t.id}},[e._v(e._s(t.Name))])})),0),e._v(" "),r("label",[e._v("Контрагент")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.formData.selectedContractor,expression:"formData.selectedContractor"}],on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.formData,"selectedContractor",t.target.multiple?r:r[0])}}},e._l(e.formData.Contractors,(function(t){return r("option",{domProps:{value:t.id}},[e._v(e._s(t.Name))])})),0)])],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",[e._v("----------")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",[e._v("----------")])])}],!1,null,null,null);t.default=component.exports}}]);